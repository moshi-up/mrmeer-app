<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MR MEER</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

    <div class="main-container">    

        <div class="header-bar">
            <h1 class="header-logo">MRMEER</h1>
            <button class="menu-btn-open" onclick="toggleMenu()">â˜°</button>
        </div>

        <div id="fullScreenMenu" class="overlay-menu">
    <button class="menu-btn-close" onclick="toggleMenu()">Ã—</button>
    
    <div class="overlay-content">
        <a href="https://menu.fu.do/mr.meer/qr-menu" onclick="toggleMenu()">CARTA</a>
        <a href="https://menu.fu.do/mr.meer" onclick="toggleMenu()">PEDIR ONLINE</a>
        <a href="https://docs.google.com/forms/d/e/1FAIpQLSdixhHiH_MbuS_l4-wllnE1jyBTgmB_yiek-053_iUaiMtL2g/viewform" onclick="toggleMenu()">EVALUAR NUESTRO<br> SERVICIO</a>
        <a href="#" onclick="toggleMenu()">TRABAJAR CON br>NOSOTROS</a>
        <a href="https://www.google.com/maps/place/MR+MEER/@-36.6166982,-72.9580726,17z/data=!4m8!3m7!1s0x96684fda1b8f1711:0xdac5a23474987859!8m2!3d-36.6166982!4d-72.9580726!9m1!1b1!16s%2Fg%2F11f7rx1t2r?entry=ttu&g_ep=EgoyMDI1MTIwOS4wIKXMDSoASAFQAw%3D%3D" onclick="toggleMenu()">RESEÃ‘AS EN GOOGLE</a>
    </div>

    <div class="menu-footer">MRMEER.CL</div>
</div>

        <div class="section-inicio-content-wrapper">
            
            <div class="background-video-container">
                <video class="bg-video active" muted playsinline>
                    <source src="{{ url_for('static', filename='video (1).mp4') }}" type="video/mp4">
                </video>
                <video class="bg-video" muted playsinline>
                    <source src="{{ url_for('static', filename='video (2).mp4') }}" type="video/mp4">
                </video>
            </div>

            <div class="dark-overlay"></div>

            <div class="content-wrapper intro-content-animado">
                <div class="logo-wrapper">
                    <img src="{{ url_for('static', filename='estrellameerpng-pag1.png') }}" class="star-bg" alt="Estrella Fondo">
                    <h1 class="brand-title">MRMEER</h1>
                </div>

                <div class="info-text">
                    <p>
                        <span class="text-main">âœ¨ COMIDA CALLEJERA PARA TODOS</span>
                        <br>
                        <span class="text-sub">abierto de sol a luna ðŸŒ™</span>
                    </p>
                </div>

                <div class="button-group">
                    <a href="https://menu.fu.do/mr.meer/qr-menu" class="btn">CARTA</a>
                    <a href="https://menu.fu.do/mr.meer" class="btn">PEDIR ONLINE</a>
                </div>

                <hr class="linea-bonita-section-inicio">
            </div>
        </div>

        <div class="section-nosotros">
            <div class="video-section">
                <h3 class="video-label">VIBES DE LA COCINA ðŸ”¥</h3>   
                <div class="video-slideshow-container">      
                    <video class="auto-video active" muted playsinline>
                        <source src="{{ url_for('static', filename='video.mp4') }}" type="video/mp4">
                    </video>
                    <video class="auto-video" muted playsinline>
                        <source src="{{ url_for('static', filename='video (2).mp4') }}" type="video/mp4">
                    </video>
                    <video class="auto-video" muted playsinline>
                        <source src="{{ url_for('static', filename='video (1).mp4') }}" type="video/mp4">
                    </video>
                </div>
            </div>

            <div class="legend-content">
                <h2 class="legend-title">
                    MÃ¡s que un âœ¨<br>
                    restaurante o un bar,<br>
                    somos una leyenda tomÃ©cina            
                </h2>
                <img src="{{ url_for('static', filename='mrmeernosotros.png') }}" class="legend-logo" alt="Logo">
            </div>
            
            <hr class="linea-bonita-nosotros">
        </div>

        <div class="section-colaborar">
            <div class="colab-header">
                <h2 class="colab-title">
                    Unete a la familia <span class="text-gold">MR.MEER</span> âœ¨
                </h2>
                <p class="colab-subtitle">
                    Ya una lista de <strong>influencers</strong> han<br>
                    colaborado con nosotros
                </p>
                <p class="colab-cta">Â¡Contactanos!</p>
            </div>

            <div class="influencer-scroll">
                <div class="influencer-card">
                    <img src="{{ url_for('static', filename='foto-agus.jpg') }}" alt="Agustin" class="inf-img">
                    <div class="inf-info">
                        <span class="inf-name">Agustin</span>
                        <span class="inf-handle">@agustinelsucio</span>
                    </div>
                </div>
                <div class="influencer-card">
                    <img src="{{ url_for('static', filename='foto_aaaa.jpg') }}" alt="Mau" class="inf-img">
                    <div class="inf-info">
                        <span class="inf-name">Mau</span>
                        <span class="inf-handle">@aaaa.mau</span>
                    </div>
                </div>
                <div class="influencer-card">
                    <img src="{{ url_for('static', filename='otakin.png') }}" alt="Otakin" class="inf-img">
                    <div class="inf-info">
                        <span class="inf-name">Otakin</span>
                        <span class="inf-handle">@otakingordo</span>
                    </div>
                </div>
                <div class="influencer-card">
                    <img src="{{ url_for('static', filename='doncarter.png') }}" alt="Otro" class="inf-img">
                    <div class="inf-info">
                        <span class="inf-name">DON CARTER</span>
                        <span class="inf-handle">@CARTER</span>
                    </div>
                </div>
            </div>

            <div class="colab-footer">
                <button class="btn-cv">ðŸŒŸ Envianos tu curriculum</button>
            </div>
        </div>
        <div class="section-ubicacion">
            
            <h2 class="ubicacion-title">Ubicacion</h2>

            <div class="ubicacion-img-wrapper">
                <img src="{{ url_for('static', filename='fachada.webp') }}" alt="Fachada Mr Meer TomÃ©">
            </div>

            <div class="ubicacion-info">
                <div class="info-row">
                    <span class="city-name">TomÃ©</span>
                    <span class="open-hours">9:00 AM - 11:30 PM</span>
                </div>
                <p class="address-text">Nogueira 1015</p>
            </div>

            <hr class="linea-bonita-ubicacion">
        </div>
    

        <div class="footer-links">
            <a href="https://www.facebook.com/" target="_blank">Facebook</a> |
            <a href="https://www.instagram.com/" target="_blank">Instagram</a> |
            <a href="{{ url_for('contacto') }}">Contacto</a>
        </div>
        

    </div> <script>
        // --- 1. MenÃº Overlay ---
        function toggleMenu() {
            var menu = document.getElementById("fullScreenMenu");
            menu.classList.toggle("active");
        }

        document.addEventListener("DOMContentLoaded", function() {
            
            // --- 2. Videos AutomÃ¡ticos (Slideshow Nosotros) ---
            const videos = document.querySelectorAll('.auto-video');
            let currentIndex = 0;

            function playNextVideo() {
                videos[currentIndex].classList.remove('active');
                videos[currentIndex].pause();
                videos[currentIndex].currentTime = 0;
                
                currentIndex = (currentIndex + 1) % videos.length;
                
                videos[currentIndex].classList.add('active');
                videos[currentIndex].play();
            }

            videos.forEach(video => {
                video.addEventListener('ended', playNextVideo);
            });

            if(videos.length > 0) videos[0].play();


            // --- 3. Cambio de color de Fondo (ACTUALIZADO) ---
            const contenedor = document.querySelector('.main-container');
            
            // Seleccionamos AMBAS secciones que deben activar el fondo blanco
            const seccionesClaras = document.querySelectorAll('.section-nosotros, .section-ubicacion');

            const observerOptions = {
                root: contenedor,
                threshold: 0.4 // Al 40% de visibilidad cambia el color
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    // Si entra en pantalla cualquiera de las secciones claras
                    if (entry.isIntersecting) {
                        contenedor.classList.add('modo-claro');
                    } else {
                        // AquÃ­ hay un truco: Solo quitamos el modo claro si NO estamos
                        // viendo ninguna de las otras secciones claras.
                        // Para simplificar tu lÃ³gica actual (toggle simple):
                        contenedor.classList.remove('modo-claro');
                    }
                });
            }, observerOptions);

            // Activamos el observador para cada secciÃ³n de la lista
            seccionesClaras.forEach(seccion => {
                observer.observe(seccion);
            });


            // --- 4. Videos de Fondo (Inicio) ---
            const bgVideos = document.querySelectorAll('.bg-video');
            let bgIndex = 0;

            function playNextBgVideo() {
                bgVideos[bgIndex].classList.remove('active');
                bgVideos[bgIndex].pause();
                bgVideos[bgIndex].currentTime = 0;

                bgIndex = (bgIndex + 1) % bgVideos.length;

                bgVideos[bgIndex].classList.add('active');
                bgVideos[bgIndex].play();
            }

            bgVideos.forEach(video => {
                video.addEventListener('ended', playNextBgVideo);
            });

            if(bgVideos.length > 0) bgVideos[0].play();


            // --- 5. Header Inteligente ---
            let lastScrollTop = 0;
            const header = document.querySelector('.header-bar');
            
            // Escuchamos el scroll del contenedor principal
            contenedor.addEventListener("scroll", function() {
                let currentScroll = contenedor.scrollTop;
                
                if (currentScroll > lastScrollTop && currentScroll > 50) {
                    header.classList.add('header-hidden');
                } else {
                    header.classList.remove('header-hidden');
                }
                
                lastScrollTop = currentScroll <= 0 ? 0 : currentScroll; 
            }, false);

        });
        function toggleMenu() {
    var menu = document.getElementById("fullScreenMenu");
    menu.classList.toggle("active");
}
    </script>
</body>
</html>